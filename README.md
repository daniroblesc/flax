I don't know how CPUs work so I simulated one in code
